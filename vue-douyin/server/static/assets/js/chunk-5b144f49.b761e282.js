(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b144f49"],{"00da":function(t,e,s){t.exports=s.p+"assets/img/2.e9881162.jpg"},"07ed":function(t,e,s){"use strict";var i=s("5953"),n=s.n(i);n.a},"096b":function(t,e,s){},"452a":function(t,e,s){"use strict";var i=s("b078"),n=s.n(i);n.a},5953:function(t,e,s){},6907:function(t,e,s){"use strict";var i=s("096b"),n=s.n(i);n.a},"8e2a":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"message"},[i("my-header",{attrs:{title:"消息"}}),i("div",{staticClass:"tab-wrap"},[i("msg-tab")],1),i("scroll",{ref:"wrapper",staticClass:"list-wrap",attrs:{data:t.allPrivateLetter}},[i("msg-list",{attrs:{items:t.allPrivateLetter}}),0===t.allPrivateLetter.length?i("img",{staticClass:"bgimg",attrs:{src:s("00da")}}):t._e()],1),i("router-view",{staticClass:"bbb"})],1)},n=[],a=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),r=s("e9fc"),o=s("4980"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"msg-tab"},[s("li",{staticClass:"tab-item"},[s("router-link",{attrs:{tag:"div",to:"/message/fan"}},[s("div",{staticClass:"icon iconfont icon-team"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.fanUnreadNum,expression:"fanUnreadNum!==0"}],staticClass:"point",class:{"point-plus":t.fanUnreadNum>99}},[t._v(t._s(t.fanUnreadNum>99?"99+":t.fanUnreadNum))])]),s("span",{staticClass:"desc"},[t._v("粉丝")])])],1),s("li",{staticClass:"tab-item"},[s("router-link",{attrs:{tag:"div",to:"/message/like"}},[s("div",{staticClass:"icon iconfont icon-heart"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.byLikeUnreadNum,expression:"byLikeUnreadNum!==0"}],staticClass:"point",class:{"point-plus":t.byLikeUnreadNum>99}},[t._v(t._s(t.byLikeUnreadNum>99?"99+":t.byLikeUnreadNum))])]),s("span",{staticClass:"desc"},[t._v("赞")])])],1),s("li",{staticClass:"tab-item"},[s("router-link",{attrs:{tag:"div",to:"/message/at"}},[s("div",{staticClass:"icon iconfont icon-at"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.atNum,expression:"atNum!==0"}],staticClass:"point",class:{"point-plus":t.atNum>99}},[t._v(t._s(t.atNum>99?"99+":t.atNum))])]),s("span",{staticClass:"desc"},[t._v("@我的")])])],1),s("li",{staticClass:"tab-item"},[s("router-link",{attrs:{tag:"div",to:"/message/comment"}},[s("div",{staticClass:"icon iconfont icon-message"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0!==t.byCommentUnreadNum,expression:"byCommentUnreadNum!==0"}],staticClass:"point",class:{"point-plus":t.byCommentUnreadNum>99}},[t._v(t._s(t.byCommentUnreadNum>99?"99+":t.byCommentUnreadNum))])]),s("span",{staticClass:"desc"},[t._v("评论")])])],1)])},h=[],c=s("2f62");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function d(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var f={data:function(){return{items:[{id:1,desc:"粉丝"},{id:2,desc:"赞"},{id:3,desc:"@我的"},{id:4,desc:"评论"}]}},computed:d({},Object(c["c"])(["fanUnreadNum","byLikeUnreadNum","byCommentUnreadNum","atNum"]))},p=f,m=(s("452a"),s("2877")),v=Object(m["a"])(p,u,h,!1,null,"eb7a9ca4",null),b=v.exports,g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("swipeout",{staticClass:"message-list"},t._l(t.items,(function(e){return s("swipeout-item",{key:e.fromId,staticClass:"message-item"},[s("div",{attrs:{slot:"right-menu"},slot:"right-menu"},[s("swipeout-button",{attrs:{type:"warn"}},[t._v("删除")])],1),s("div",{staticClass:"front",attrs:{slot:"content"},on:{click:function(s){return t.chatWith(e)}},slot:"content"},[s("img",{staticClass:"avatar",attrs:{src:""+t.baseURL+e.userAvatar,alt:"",width:"50",height:"50"}}),s("div",{staticClass:"right"},[s("div",{staticClass:"top"},[s("span",{staticClass:"name"},[t._v(t._s(e.userNickname))]),s("span",{staticClass:"time"},[t._v(t._s(t.formatTime(e.createdAt)))])]),s("div",{staticClass:"bottom"},[s("span",{staticClass:"desc"},[t._v(t._s(""+(e.content.length>30?e.content.substr(0,30):e.content)))]),s("span",{directives:[{name:"show",rawName:"v-show",value:0!==e.unread,expression:"item.unread!==0"}],staticClass:"point",class:{"point-plus":e.unread>99}},[t._v(t._s(e.unread>99?"99+":e.unread))])])])])])})),1)},w=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-swipeout"},[t._t("default")],2)},C=[],O={name:"swipeout"},M=O,x=(s("6907"),Object(m["a"])(M,y,C,!1,null,null,null)),_=x.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vux-swipeout-item",on:{touchstart:t.start,mousedown:t.start,touchmove:t.move,mousemove:t.move,touchend:t.end,mouseup:t.end,touchcancel:t.end}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.distX>=0,expression:"distX >= 0"}],staticClass:"vux-swipeout-button-box vux-swipeout-button-box-left",style:t.leftButtonBoxStyle},[t._t("left-menu")],2),s("div",{directives:[{name:"show",rawName:"v-show",value:t.distX<=0,expression:"distX <= 0"}],staticClass:"vux-swipeout-button-box",style:t.rightButtonBoxStyle},[t._t("right-menu")],2),s("div",{ref:"content",staticClass:"vux-swipeout-content",style:t.styles,on:{mousedown:t.onContentClick,touchstart:t.onContentClick}},[t._t("content")],2)])},k=[],X=(s("c5f6"),{name:"swipeout-item",props:{sensitivity:{type:Number,default:0},autoCloseOnButtonClick:{type:Boolean,default:!0},disabled:Boolean,threshold:{type:Number,default:.3},underlayColor:String,transitionMode:{type:String,default:"follow"}},data:function(){return{pageX:void 0,pageY:void 0,distX:0,distY:0,hasLeftMenu:!1,hasRightMenu:!1,animated:!1,isAnimated:!1,isOpen:!1,styles:{transform:"translate3d(0px, 0, 0)"},direction:"",leftMenuWidth:160,rightMenuWidth:160}},mounted:function(){var t=this;this.$nextTick((function(){t.render()}))},methods:{render:function(){this.target=this.$refs.content,this.$slots["left-menu"]&&(this.hasLeftMenu=!0,this.caculateMenuWidth("left")),this.$slots["right-menu"]&&(this.hasRightMenu=!0,this.caculateMenuWidth("right"))},caculateMenuWidth:function(t){var e=this.$slots["".concat(t,"-menu")][0].children.filter((function(t){return t.tag})),s=0;e.forEach((function(t){var e=t.componentOptions?t.componentOptions.propsData:{};s+=e.width||80})),this["".concat(t,"MenuWidth")]=s},onContentClick:function(){-1===this.styles.transform.indexOf("(0px, 0, 0)")&&this._setClose(200)},onItemClick:function(){this.autoCloseOnButtonClick&&this._setClose()},start:function(t){if(!this.disabled&&!this.isOpen&&"span"!==t.target.nodeName.toLowerCase()){if("swipeout"===this.$parent.$options._componentTag){var e=this.$parent.$children.filter((function(t){return-1===t.$data.styles.transform.indexOf("(0px, 0, 0)")}));if(e.length>0)return e.forEach((function(t){t.setOffset(0,!0)})),void t.preventDefault()}var s=t.touches?t.touches[0]:t;this.pageX=s.pageX,this.pageY=s.pageY}},move:function(t){if(!this.disabled)if("button"!==t.target.nodeName.toLowerCase())if(void 0!==this.pageX){var e=t.touches?t.touches[0]:t;if(this.distX=e.pageX-this.pageX,this.distY=e.pageY-this.pageY,this.direction||(this.direction=this.distX>0?"left":"right"),("right"===this.direction&&this.distX>0&&this.hasRightMenu||"left"===this.direction&&this.distX<0&&this.hasLeftMenu)&&(this.valid=!0,t.preventDefault()),void 0===this.valid&&(this.distX>0&&!1===this.hasLeftMenu||this.distX<0&&!1===this.hasRightMenu?this.valid=!1:Math.abs(this.distX)>this.sensitivity||Math.abs(this.distY)>this.sensitivity?this.valid=Math.abs(this.distX)>Math.abs(this.distY):t.preventDefault()),!0===this.valid){if(Math.abs(this.distX)<=this.menuWidth)this.setOffset(this.distX,!1);else{var s=Math.min(this.menuWidth,.5*(Math.abs(this.distX)-this.menuWidth)),i=(this.menuWidth+s)*(this.distX<0?-1:1);this.setOffset(i,!1)}t.preventDefault()}}else t.preventDefault();else t.preventDefault()},end:function(t){if(!this.disabled&&"span"!==t.target.nodeName.toLowerCase()){if(!0===this.valid)if(this.distX<0&&"right"===this.direction){var e=this.threshold<=1?this.rightMenuWidth*this.threshold:this.threshold;this.distX<-e?(this.setOffset(-this.rightMenuWidth,!0),this.$emit("on-open"),this.isOpen=!0):this._setClose()}else if(this.distX>0&&"left"===this.direction){var s=this.threshold<=1?this.leftMenuWidth*this.threshold:this.threshold;this.distX>s?(this.setOffset(this.leftMenuWidth,!0),this.$emit("on-open"),this.isOpen=!0):this._setClose()}this.pageX=this.pageY=this.valid=void 0,this.direction=""}},setOffset:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if(this.isAnimated=s,!this.disabled||i){if(("right"===this.direction&&t>0||"left"===this.direction&&t<0)&&(t=0),0===t&&setTimeout((function(){e.isOpen=!1}),300),t<0&&Math.abs(t)===this.rightMenuWidth?this.distX=-this.rightMenuWidth:t>0&&Math.abs(t)===this.leftMenuWidth&&(this.distX=this.leftMenuWidth),s&&this.target){this.target&&this.target.classList.add("vux-swipeout-content-animated");var n=function(t,e){return function(){e.classList.remove("vux-swipeout-content-animated"),t.isAnimated=!1,e.removeEventListener("webkitTransitionEnd",n),e.removeEventListener("transitionend",n)}}(this,this.target);this.target.addEventListener("webkitTransitionEnd",n),this.target.addEventListener("transitionend",n)}this.styles.transform="translate3d("+t+"px, 0, 0)"}},_setClose:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.setOffset(0,!0),this.$emit("on-close"),e?setTimeout((function(){t.isOpen=!1}),e):this.isOpen=!1,this.distX=0},open:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"right";this.setOffset("right"===t?-this.rightMenuWidth:this.leftMenuWidth,!0,!0)},close:function(){this.setOffset(0,!0,!0)}},computed:{menuWidth:function(){return!this.hasLeftMenu&&this.hasRightMenu?this.rightMenuWidth:this.hasLeftMenu&&!this.hasRightMenu?this.leftMenuWidth:this.hasLeftMenu&&this.hasRightMenu?this.distX<0?this.rightMenuWidth:this.leftMenuWidth:void 0},buttonBoxStyle:function(){return{backgroundColor:this.underlayColor}},leftButtonBoxStyle:function(){var t=JSON.parse(JSON.stringify(this.buttonBoxStyle));if("follow"===this.transitionMode){var e=-1===this.styles.transform.indexOf("(0px, 0, 0)")?this.leftMenuWidth-this.distX:this.leftMenuWidth;t.transform="translate3d(-".concat(e,"px, 0, 0)")}return t},rightButtonBoxStyle:function(){var t=JSON.parse(JSON.stringify(this.buttonBoxStyle));if("follow"===this.transitionMode){var e=-1===this.styles.transform.indexOf("(0px, 0, 0)")?this.rightMenuWidth-Math.abs(this.distX):this.rightMenuWidth;e<0&&(e=0),this.isAnimated&&(t.transition="transform 0.5s"),t.transform="translate3d(".concat(e,"px, 0, 0)")}return t}}}),j=X,W=Object(m["a"])(j,N,k,!1,null,"50c20118",null),L=W.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"vux-swipeout-button",class:{"vux-swipeout-button-primary":"primary"===t.type,"vux-swipeout-button-warn":"warn"===t.type,"vux-swipeout-button-default":"default"===t.type},style:{backgroundColor:t.backgroundColor},attrs:{type:"button"},on:{click:t.onButtonClick}},[t._t("default",[t._v(t._s(t.text))])],2)},$=[],P={name:"swipeout-button",props:{text:String,backgroundColor:String,type:String},methods:{onButtonClick:function(){"swipeout-item"===this.$parent.$options._componentTag&&this.$parent.onItemClick(this.text)}}},U=P,B=Object(m["a"])(U,S,$,!1,null,null,null),E=B.exports,D=s("41ea"),T=s("8b55"),Y={props:{items:{type:Array,required:!0}},data:function(){return{baseURL:D["a"]}},methods:{chatWith:function(t){this.$router.push({path:"/ChatWith/".concat(t.fromId),query:{userNickname:t.userNickname,userAvatar:t.userAvatar}})},formatTime:T["d"]},components:{Swipeout:_,SwipeoutItem:L,SwipeoutButton:E}},A=Y,R=(s("07ed"),Object(m["a"])(A,g,w,!1,null,"b608c1b8",null)),J=R.exports;function I(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function q(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?I(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):I(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var H={mounted:function(){},data:function(){return{}},computed:q({},Object(c["c"])(["allPrivateLetter"])),components:{MyHeader:o["a"],MsgTab:b,MsgList:J,Scroll:r["a"]}},z=H,F=(s("a2c7"),Object(m["a"])(z,i,n,!1,null,"7223be3c",null));e["default"]=F.exports},a2c7:function(t,e,s){"use strict";var i=s("a9d0"),n=s.n(i);n.a},a9d0:function(t,e,s){},b078:function(t,e,s){}}]);