(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b9e42aa"],{"002c":function(t,e,n){"use strict";var r=n("17f3"),s=n.n(r);s.a},"17f3":function(t,e,n){},6315:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll",{staticClass:"search-list",attrs:{pullup:!0},on:{scrollToEnd:t.scrollToEnd}},[n("tip",{ref:"tip"}),n("ul",t._l(t.searches,(function(e){return n("li",{key:e.id,staticClass:"search-item",on:{click:function(n){return t.selectItem(e)}}},[n("img",{staticClass:"avatar",attrs:{src:""+t.baseURL+e.userAvatar,width:"50",height:"50"}}),n("div",{staticClass:"main"},[n("span",{staticClass:"name"},[t._v(t._s(e.userNickname))]),n("span",{staticClass:"desc"},[t._v(t._s(e.userDesc))])]),n("div",{staticClass:"btn",class:["follow","both"].includes(e.myRelation)?"btn-inactive":"btn-active",domProps:{innerHTML:t._s(t.getBtnHtml(e.myRelation))},on:{click:function(n){return n.stopPropagation(),t.triggerFollow(n.target,e)}}})])})),0)],1)},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("6762"),n("2fdb"),n("bd86")),c=n("41ea"),i=n("e9fc"),a=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(o["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={props:{searches:{type:Array,default:function(){return[]}}},data:function(){return{baseURL:c["a"],timer:null}},computed:u({},Object(a["c"])(["loginInfo"])),methods:{selectItem:function(t){this.$emit("select",t)},scrollToEnd:function(){0!==this.searches.length&&this.$emit("scrollToEnd")},triggerFollow:function(t,e){var n=this;this.timer||(this.timer=setTimeout((function(){n.$axios.get("/api/user/".concat(n.loginInfo.userId,"/triggerFollow/").concat(e.userId)).then((function(t){if(t.data.data.includes("取消"))switch(n.$refs.tip.show("取关成功"),e.myRelation){case"follow":e.myRelation="none";break;case"both":e.myRelation="fan";break}else switch(n.$refs.tip.show("关注成功"),e.myRelation){case"fan":e.myRelation="both";break;case"none":e.myRelation="follow";break}n.$socket.emit("sendTriggerFollow",{fromUserId:n.loginInfo.userId,toUserId:e.userId}),n.timer=null})).catch((function(t){n.$refs.tip.show("网络错误"),n.timer=null}))}),300))},getBtnHtml:function(t){switch(t){case"fan":case"none":return"关注";case"follow":return"已关注";case"both":return"互相关注"}}},components:{Scroll:i["a"]}},p=f,b=(n("002c"),n("2877")),h=Object(b["a"])(p,r,s,!1,null,"7776be2b",null);e["default"]=h.exports}}]);